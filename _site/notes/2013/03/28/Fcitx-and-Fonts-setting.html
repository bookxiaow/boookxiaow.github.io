<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Fcitx And Fonts Setting</title>
   <link rel="shortcut icon" type="image/png" href="/images/heng.png">
   <meta name="author" content="Wei Heng" />
   <link href="http://feeds.feedburner.com/tom-preston-werner" rel="alternate" title="Tom Preston-Werner" type="application/atom+xml" />
   <meta name="readability-verification" content="QCzSs992GxmRYRKVpPeZ6LE2tS8aYKxsSSQKV8YM"/>

   <!-- syntax highlighting CSS -->
   <link rel="stylesheet" href="/stylesheets/syntax.css" type="text/css" />
   <link rel="stylesheet" href="/stylesheets/pygment_trac.css" type="text/css" />

   <!-- Homepage CSS -->
   <link rel="stylesheet" href="/stylesheets/screen.css" type="text/css" media="screen, projection" />

   <!-- Typekit -->
   <script type="text/javascript" src="http://use.typekit.com/jpd0pfm.js"></script>
   <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
</head>
<body>

<!-- ClickTale Top part -->
<script type="text/javascript">
var WRInitTime=(new Date()).getTime();
</script>
<!-- ClickTale end of Top part -->

<div class="site">
  <div class="title">
    <a href="/">Heng</a>
    <a class="extra" href="/">home</a>
  </div>

  <div id="post">
<p>The purpose of this note is to analyze the steps for setting chinese
input method <a href="http://www.fcitx-im.org"><strong>Fcitx</strong></a> in an English system
environment.</p>

<h4>English Environment for Fcitx</h4>

<p>If you just Google the articles about installing the fcitx, almost most
of them we noted that, you must setting the LC_CTYPE to zh_CN.UTF-8
locale as the prerequisite. Unfortunately, it is wrong, or partly wrong.
Allthough fcitx cannot run on POSIX and C locale, But, it can run on the
en_US.UTF-8 locale settings. And it can provide you the same english
enrionment.</p>

<h4>Fcitx Environment Varibles</h4>

<p>There are mainly three important environment variables, they are:<br/>
- XMODIFIERS it connects only to the im module. and common setting as
this <code>XMODIFIERS="@im=fcitx"</code><br/>
- GTK_IM_MODULE setting the im select for gtk programs. notice that
only your fcitx compile USE flag contains gtk, gtk3, you should set it:
<code>GTK_IM_MODULE=fcitx</code>, otherwise for common gtk2 programs,
<code>GTK_IM_MODULE=xim</code>.<br/>
- QT_IM_MODULE setting the im select for qt programms. the same from
the above, you should set <code>QT_IM_MODULE=fcitx</code> only you USE the qt4
flag. and common situation is <code>QT_IM_MODULE=xim</code>.</p>

<p>Yes, All about this, for startx command, you should putting the above
environment variables in .xinitrc. if you use Slim, you could put it in
the xsessions files.  Provided that You locale is not POSIX or C, it
will works.</p>

<h4>Install fonts on Sabayon(Gentoo) manual</h4>

<p>First you should copy the fonts into a system fonts directory or
user self-definition directory.  And if you use the self-definition
directory, you should add the FontPaths directory in the xorg.conf
directory.<br/>
Second, you need to enter the font directory, and construct the
fonts.scale and fonts.dir files for indexing of fonts. with the
following commands.
<code>mkfontscale</code>
<code>mkfontdir</code><br/>
Finally, we need to reconstruct the fonts cached with command<br/>
<code>fc-cached -fv</code><br/>
After you reboot the X system, you could use the command <code>fc-list | grep
-i font-name</code></p>

<p>And that's all.</p>

</div>

<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
      <li><span>28 May 2015</span> &raquo; <a href="/2015/05/28/singleton-design-pattern.html">Singleton Design Pattern</a></li>
    
      <li><span>11 Nov 2014</span> &raquo; <a href="/2014/11/11/Common-ShortKey-And-Command-On-MacOSX.html">Common ShortKey And Command on MacOSX</a></li>
    
      <li><span>09 Aug 2014</span> &raquo; <a href="/translation/2014/08/09/add-comment-to-jekyll-blog-with-disqus.html">Add Comment to Jekyll Blog with Disqus</a></li>
    
  </ul>
</div>


<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'josepheng'; // required: replace example with your forum shortname
    /* * * This turns developer mode on, Make sure you remove this before you push this to your live site. * * * /
    /* * * var disqus_developer = 1;  * * * /

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>



  <div class="footer">
    <div class="contact">
      <p>
        Wei Heng<br />
        lengerfulluse@gmail.com
      </p>
    </div>
    <div class="contact">
      <p>
        <a href="http://github.com/lengerfulluse/">github.com/lengerfulluse</a><br />
      </p>
    </div>
    <div class="rss">
      <a href="http://feeds.feedburner.com/joseph-heng">
        <img src="/assets/img/rss.png" alt="Subscribe to RSS Feed" />
      </a>
    </div>
  </div>
</div>

<a href="http://github.com/lengerfulluse"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" /></a>

<!-- ClickTale Bottom part -->
<div id="ClickTaleDiv" style="display: none;"></div>
<script type="text/javascript">
if(document.location.protocol!='https:')
  document.write(unescape("%3Cscript%20src='http://s.clicktale.net/WRb.js'%20type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
if(typeof ClickTale=='function') ClickTale(206,0.3,"www03");
</script>
<!-- ClickTale end of Bottom part -->

<!-- Google Analytics -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-6016902-1");
pageTracker._trackPageview();
</script>
<!-- Google Analytics end -->

</body>
</html>
